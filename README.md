# 2022-simulate-1
Practise 2021-CUMCM-C  Matlab            
西安邮电大学 暑期数模培训    

参考两篇国赛优秀论文 C085 C169 得到以下思路：           

*问题的分析*            
🙌核心问题：选择并量化供货特征，确定订购方案和转运方案        
🙌订购方案：每周的供应商、订货量和库存量       
🙌转运方案：每周的转运商、转运量、损耗量、接收量   
🙌关键问题：供货特征选取与量化，供货能力、订购成本、供货量、接收量、库存量、产能增加量的核算

## 问题一
🎏供应商供货特征选取与量化模型  

*供货特征的选取*      
**代码见Pretreat2.m**
+ 完成率 ： 供货量占订货量的比率  
🙌推荐考虑：第j个供应商的总供货量占所有供应商总订货量的比率            
🎋推荐原因：两个不同的供应商供货率可能是相同的 (2000/2000 1/1)
+ 订单率 ： 供货次数/订货次数       
🙌推荐考虑：第j个供应商的完成订货次数占总订购次数的比率 
+ 平均供货强度 ：
+ 供货稳定性 ：用供货量的标准差进行衡量       
*其他供货特征*       
+ 供货量 **需要求得三类原材料的单位产品消耗量转化率**
+ 供货连续性  
    
*熵权法-TOPSIS*  
🎐计算权重和得分，得分越高，对应的供货商越重要 最终得到前50家供应商排序

🎋期待解决的问题与思考
1. 数据预处理筛选出32家质量差的供应商有何意义？ **参见pretreat.m**
2. 根据TOPSIS的得到的最高得分比较小，为何优秀论文里的最高得分为0.99？
3. 损耗量为多少怎么看？ 
Solution：损耗量=供货量*损耗率
4. 一家供应商每周供应的原材料尽量由一家转运商运输在何处有体现？

## 问题二
🎏最经济的订购与转运模型
   
目标函数：最少供货商；共24个，**选出其中最多的一个**                     
决策变量：Xit50家供货商中第i家供应商第t周是否供货，为0-1整数变量

约束条件：
1. 供应商的稳定供货能力=0.9*最大供货能力（通过查阅文献可知）
2. 平均损耗率：以24周为一个周期的每周平均损耗率
3. 供给消耗关系：第t-1周企业库存量和第t周接收量总和不小于第t周企业生产需求和库存需求总和
4. 库存与产能关系：企业始终有满足两周生产需求的原材料库存量
5. 库存剩余量**迭代关系**     
🎡第一周的库存剩余量=接收量+初始库存剩余量-本周需要消耗的原材料量（初始库存剩余量=2*一周生产需求的原材料库存量）        
🎡第二周以后的库存剩余量=接收量+上周库存剩余量-本周需要消耗的原材料量
6. 初始库存剩余量

*确定订购方案--订购模型* 

**第t周最优订购方案的线性规划模型，共24个**            
目标函数：每周总供货量在采购和运输以及储存三方面成本最小，共24个                   
总成本=订购量*采购单价和运输与储存的单位费用（采购单价：A=1.2 B=1.1 C=1，运输与储存成本定为0.5）

决策变量：Oit为第i家供应商第t周的订购量
约束调节也应满足迭代关系

*转运方案确定模型*
目标函数：每周总的损耗量最小，共24个       
总损耗量=转运的原材料量*第i家供应商的转运损失率

决策变量：Tik为第i家供应商由第k家转运商转运的原材料量

约束条件：
1. 总运输量：一共8个约束分别对应8家转运商，每家转运商的运输总量小于等于6000
2. 总供货量：一共17个约束分别对应17家供货商，每家供货商由各个转运商转运的原材料量的总和应为供货商的总供货量
3. 转运损耗率：各转运商的平均损耗率=用以往10个周期中第j周转运损失率的均值


🎋期待解决的问题与思考
1. 代码中最大供货能力计算设计比较巧妙，将240周供货能力都遍历一遍选出最大值 **参见min_supplier.m**
2. **企业尽可能保持不少于满足两周生产需求的原材料库存量**设计迭代
## 问题三
🎏压缩成本的订购与转运模型

*订购方案确定模型*            

目标函数：（共24个，24周每周）
1. 订货量 增A少C A原材料订购量-C原材料订购量最大
2. 减少总成本 三种原材料采购量*采购单价和运输与储存的单位费用

决策变量为Xi：50家供应商第i家第t周供应商是否供货，为0-1整数变量

约束条件：
1. 前三个约束表示：各原材料总订购量应该由各类原材料供应商的总订购量加和         
2. 后两个约束表示：该生产企业对一周的原材料接收量和上一周剩余的原材料库存量的总和不少于满足两周生产需要的原材料库存量与一周的产能需要的原材料的总和

用多目标规划转单目标规划求解，权重为专家确定

*转运方案确定模型*            
目标函数：每周的转运损耗量率最小 转运损耗率=接收量/供货量，共24个

决策变量为Tik为第i家供应商由第k家转运商转运的原材料量

约束条件：
1. 总运输量：一共8个约束分别对应8家转运商，每家转运商的运输总量小于等于6000          
2. 总供货量：一共50个约束分别对应50家供货商，每家供货商由各个转运商转运的原材料量的总和应为供货商的总供货量         
3. 转运损耗率：各转运商的平均损耗率=用以往10个周期中第j周转运损失率的均值        
主要是套第二问的转运方案

## 问题四
🎏提高产能的订购与转运模型
目标函数：每周的等效产能最大 等效产能=供货量*损耗率/对应原材料单位消耗量，共24个

决策变量为Si第i个供货商的供货量

约束条件：
1.运输总量：共一个约束为每周50家供货商的供货量之和不大于8家转运公司总的运输能力48000             
2.供货量：大于0并小于过去5年里第i家供货公司供货量的最大值            
3.供货影响：在实际生活中，供货商不可能每周都以历史最大供货量提供原材料。因此，假设供货商在第周提供了最大供货量，则在下一周需要休整备货。            

求出最大产能为      
最后带回问题二的模型求解

